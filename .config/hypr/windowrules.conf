# █   █ ▄▀▄ █▀▄ █▄▀ ▄▀▀ █▀▄ ▄▀▄ ▄▀▀ ██▀   █▄ ▄█ ▄▀▄ █▄ █ █ ▀█▀ ▄▀▄ █▀▄   █▀▄ █ █ █   ██▀ ▄▀▀
# ▀▄▀▄▀ ▀▄▀ █▀▄ █ █ ▄██ █▀  █▀█ ▀▄▄ █▄▄   █ ▀ █ ▀▄▀ █ ▀█ █  █  ▀▄▀ █▀▄   █▀▄ ▀▄█ █▄▄ █▄▄ ▄██

# Assign workspaces 1-10 to DP-1
workspace = 1, monitor:DP-1
workspace = 2, monitor:DP-1
workspace = 3, monitor:DP-1
workspace = 4, monitor:DP-1
workspace = 5, monitor:DP-1
workspace = 6, monitor:DP-1
workspace = 7, monitor:DP-1
workspace = 8, monitor:DP-1
workspace = 9, monitor:DP-1
workspace = 10, monitor:DP-1
workspace = 11, monitor:DP-1
workspace = 12, monitor:DP-1
workspace = 13, monitor:DP-1
workspace = 14, monitor:DP-2
workspace = 15, monitor:HDMI-A-1

# Assign special workspaces to DP-2
workspace = special:media, monitor:DP-2, layout:master

windowrule = workspace special:media, title:cmus-term
windowrule = workspace special:media, title:cava-term
windowrule = workspace special:media, title:btop-term

# █   █ ▄▀▄ █▀▄ █▄▀ ▄▀▀ █▀▄ ▄▀▄ ▄▀▀ ██▀   █▀▄ █ █ █   ██▀ ▄▀▀
# ▀▄▀▄▀ ▀▄▀ █▀▄ █ █ ▄██ █▀  █▀█ ▀▄▄ █▄▄   █▀▄ ▀▄█ █▄▄ █▄▄ ▄██

# Workspace rulesqp
windowrule = workspace 1, class:^(org.kde.dolphin|org.gnome.Nautilus)$
windowrule = workspace 2, class:^(zen|chromium|firefox-developer-edition)$
windowrule = workspace 3, class:^(codium)$
windowrule = workspace 4, class:^(thunderbird|thunderbird-beta|thunderbird-nightly|eu.betterbird.Betterbird)$
windowrule = workspace 5, class:^(obsidian)$
windowrule = workspace 6, class:^(steam)$
windowrule = workspace 9, class:^(com.github.wwmm.easyeffects)$
windowrule = workspace 10, title:^(Spotify)(.*)$
windowrule = workspace 10, class:^(ferdium|wasistlos)$
windowrule = workspace 11, class:^(amule)$
windowrule = workspace 12, class:^(org.nicotine_plus.Nicotine)$
windowrule = workspace 13, class:^(org.qbittorrent.qBittorrent)$

# windowrule = workspace special, Ferdium 

# ▄▀  ██▀ █▄ █ ██▀ █▀▄ ▄▀▄ █     █   █ █ █▄ █ █▀▄ ▄▀▄ █   █   █▀▄ █ █ █   ██▀ ▄▀▀
# ▀▄█ █▄▄ █ ▀█ █▄▄ █▀▄ █▀█ █▄▄   ▀▄▀▄▀ █ █ ▀█ █▄▀ ▀▄▀ ▀▄▀▄▀   █▀▄ ▀▄█ █▄▄ █▄▄ ▄██

# Ignore maximize requests for apps. You'll probably like this.
windowrule = suppressevent maximize, class:.*

# Fix some dragging issues with XWaylands
windowrule = nofocus, class:^$, title:^$, xwayland:1, floating:1, fullscreen:0, pinned:0

# Remove shadows for maximized windows
windowrule = noshadow, fullscreen:0, floating:0

# ▄▀▄ █▀▄ ▄▀▄ ▄▀▀ █ ▀█▀ ▀▄▀   █▀▄ █ █ █   ██▀ ▄▀▀
# ▀▄▀ █▀  █▀█ ▀▄▄ █  █   █    █▀▄ ▀▄█ █▄▄ █▄▄ ▄██

# Opacity rules for most used apps
$apps-opacity = class:^(zen|firefox-developer-edition|chromium|zen|org.gnome.eog|vlc)$
windowrule = opacity 1.00 1.00 1, $apps-opacity
windowrule = opacity 0.925 0.925 1, class:^(codium|codium-url-handler|codium-insiders-url-handler)$
windowrule = opacity 0.75 0.75 1, title:^(Developer Tools)(.*)$
windowrule = opacity 0.75 0.75 1, class:^(jetbrains-pycharm.*)$
windowrule = opacity 0.75 0.75 1, class:^(vesktopr.*)$
windowrule = opacity 0.75 0.75 1, class:^(wasistlos)$
windowrule = opacity 0.75 0.75 1, class:^(amule.*)$
windowrule = opacity 0.75 0.75 1, class:^([Oo]bsidian)$
windowrule = opacity 0.75 0.75 1, class:^(org.kde.kamule.*)$
windowrule = opacity 0.75 0.75 1, class:^(deadbeef)$
windowrule = opacity 0.75 0.75 1, class:^(rhythmbox)$
windowrule = opacity 0.75 0.75 1, class:^(com.github.wwmm.easyeffects)$
windowrule = opacity 0.75 0.75 1, class:^([Ss]potify|Spotify Free|Spotify Premium)$
windowrule = opacity 0.75 0.75 1, class:^(io.github.kukuruzka165.materialgram)$
windowrule = opacity 0.75 0.75 1, class:^(org.nicotine_plus.Nicotine.*)$
windowrule = opacity 0.75 0.75 1, class:^(org.qbittorrent.qBittorrent.*)$
windowrule = opacity 0.75 0.75 1, class:^([Tt]hunderbird|thunderbird-nightly.*|thunderbird-beta)$
windowrule = opacity 0.75 0.75 1, class:^([Ff]ilezilla)$
windowrule = opacity 0.75 0.75 1, class:^([Ss]team|steamwebhelper)$
windowrule = opacity 0.75 0.75 1, class:^(org.gnome.TextEditor.*)$
windowrule = opacity 0.75 0.75 1, class:^(org.kde.dolphin)$
windowrule = opacity 0.75 0.75 1, class:^(org.gnome.Nautilus)$
windowrule = opacity 0.75 0.75 1, class:^(org.kde.ark)$
windowrule = opacity 0.75 0.75 1, class:^(nwg-look)$
windowrule = opacity 0.75 0.75 1, class:^(qt5ct)$
windowrule = opacity 0.75 0.75 1, class:^(qt6ct)$
windowrule = opacity 0.75 0.75 1, class:^(kvantummanager)$
windowrule = opacity 0.75 0.75 1, class:^(org.pulseaudio.pavucontrol)$
windowrule = opacity 0.75 0.75 1, class:^(blueman-manager)$
windowrule = opacity 0.75 0.75 1, class:^(nm-applet)$
windowrule = opacity 0.75 0.75 1, class:^(nm-connection-editor)$
windowrule = opacity 0.75 0.75 1, class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrule = opacity 0.75 0.75 1, class:^(polkit-gnome-authentication-agent-1)$
windowrule = opacity 0.75 0.75 1, class:^(org.freedesktop.impl.portal.desktop.gtk)$
windowrule = opacity 0.75 0.75 1, class:^(org.freedesktop.impl.portal.desktop.hyprland)$
windowrule = opacity 0.75 0.75 1, class:^(hu.irl.cameractrls)$
windowrule = opacity 0.75 0.75 1, title:^(Library)(.*)$
windowrule = opacity 0.75 0.75 1, class:^(qalculate-gtk)$

# █▀ █   ▄▀▄ ▄▀▄ ▀█▀   █▀▄ █ █ █   ██▀ ▄▀▀
# █▀ █▄▄ ▀▄▀ █▀█  █    █▀▄ ▀▄█ █▄▄ █▄▄ ▄██

# Float rules for most used apps
windowrule = float, title:^(About Zen Browser|About Mozilla Firefox)$
windowrule = float, class:^(zen|firefox|firefox-developer-edition)$,title:^(Picture-in-Picture)$
windowrule = float, class:^(zen|firefox|firefox-developer-edition)$,title:^(Library)$
windowrule = float, class:^(kitty)$,title:^(top)$
windowrule = float, class:^(kitty)$,title:^(btop)$
windowrule = float, class:^(kitty)$,title:^(htop)$
windowrule = float, class:^(kvantummanager)$
windowrule = float, class:^(qt5ct)$
windowrule = float, class:^(qt6ct)$
windowrule = float, class:^(nwg-look)$
windowrule = float, class:^(org.kde.ark)$
windowrule = float, class:^(hu.irl.cameractrls)$

# Picture-in-Picture rules for Zen Browser and Firefox
windowrule = fullscreen, title:^Picture-in-Picture$
windowrule = noborder, title:^Picture-in-Picture$
windowrule = workspace 14, title:^Picture-in-Picture$

# Float rules for common modals
windowrule = float, title:^(Confirm to replace files)$
windowrule = float, title:^(File Operation Progress)$
windowrule = float, class:^(xdg-desktop-portal-gtk)$

# Float rules for dialog windows
windowrule = float, class:^(org.kde.dolphin)$,title:^(Progress Dialog)$
windowrule = float, class:^(org.kde.dolphin)$,title:^(Copying)$
windowrule = float, title:^(Progress Dialog)$
windowrule = float, title:^(Copying)(.*)$
windowrule = float, class:^(org.kde.dolphin)$,title:^(Moving)(.*)$
windowrule = float, title:^(.*Moving.*)$
windowrule = float, title:^(Open)(.*)$
windowrule = float, title:^(Open File)(.*)$
windowrule = float, title:^(xdg-desktop-portal-gtk)(.*)$
windowrule = float, title:^(Open Files)(.*)$
windowrule = float, title:^(Select a File)(.*)$
windowrule = float, title:^(Choose wallpaper)(.*)$
windowrule = float, title:^(Open Folder)(.*)$
windowrule = float, title:^(Save As)(.*)$
windowrule = float, title:^(Library)(.*)$
windowrule = float, title:^(File Upload)(.*)$
windowrule = center, title:^(Open File)(.*)$
windowrule = center, title:^(Select a File)(.*)$
windowrule = center, title:^(Choose wallpaper)(.*)$
windowrule = center, title:^(Open)(.*)$
windowrule = center, title:^(Open Files)(.*)$
windowrule = center, title:^(Open Folder)(.*)$
windowrule = center, title:^(xdg-desktop-portal-gtk)(.*)$
windowrule = center, title:^(Save As)(.*)$
windowrule = center, title:^(Library)(.*)$
windowrule = center, title:^(File Upload)(.*)$
windowrule = center, title:^(Moving)(.*)$
windowrule = center, title:^(.*Moving.*)$
windowrule = center, class:^(org.kde.dolphin)$,title:^(Moving)(.*)$

# Float rules for dialog windows
$center-title = title:^(Choose Files|Select|Open File|Open Folder|Save File|Save As)$
windowrule = float, $center-title
windowrule = center, $center-title
windowrule = size 43% 45%, $center-title
windowrule = opacity 0.75 0.75 1, $center-title

# Float rules for file dialogs
$center-float-title = title:^(.*Open Folder.*)$|^(.*Open File.*)$|^(.*Save File.*)$|^(.*Save Folder.*)$|^(.*Save Image.*)$|^(.*Save As.*)$|^(.*Open As.*)$|^(.*Select file.*)$|^(.*Select folder.*)$|^(.*Open Archive.*)$|^(.*Open.*)$
windowrule = float, $center-float-title
windowrule = center 1, $center-float-title
windowrule = size 47% 47%, $center-float-title
windowrule = opacity 0.75 0.75 1, $center-float-title


# ▄▀▀ ██▀ █   ██▀ ▄▀▀ ▀█▀ ██▀ █▀▄   ▄▀▄ █▀▄ █▀▄ ▄▀▀
# ▄██ █▄▄ █▄▄ █▄▄ ▀▄▄  █  █▄▄ █▄▀   █▀█ █▀  █▀  ▄██

# Maximize rule for RetroArch
# windowrule = maximize, class:^(com.libretro.RetroArch)$

# Maximize rule for PDF readers
windowrule = maximize, class:^(com.github.johnfactotum.Foliate|org.gnome.Evince|MuPDF|apvlv|atril|cc.cubocore.CorePDF|Emacs|epdfview|GV|org.kde.okular|org.gnome.Papers)$

# GZDOOM fullscreen
windowrule = fullscreen, class:^(gzdoom)$
windowrule = tile, class:^(SIGIL II)$

# PrBoom fullscreen steam_app_1139900
windowrule = fullscreen, class:^(steam_app_1139900)$

# PrBoom fullscreen
windowrule = fullscreen, class:^(prboom-plus)$

# Doom 3
windowrule = fullscreen, class:^(steam_app_9050)$

# Doom 3 BFG Edition
windowrule = fullscreen, class:^(steam_app_208200)$

# Doom 2016 fullscreen
windowrule = fullscreen, class:^(steam_app_379720)$

# Doom Eternal fullscreen
windowrule = fullscreen, class:^(steam_app_782330)$

# Remove shadows from maximized org.gnome.eog, MPV, Vesktop and Folaite PDF viewer
windowrule = noshadow, maxsize, class:^(org.gnome.eog|mpv|vesktop|com.github.johnfactotum.Foliate)$

# No border for Zen Browser
# windowrule = noborder, class:^(zen)$

# Float rules for Steam Settings and Steam Big Picture Mode
$steam-settings = class:^(steam)$,title:^(Steam Settings)$
windowrule = float, $steam-settings
windowrule = center, $steam-settings
windowrule = opacity 0.75 0.75 1, $steam-settings

# Float rule for KDE Font Viewer
$kde-font-viewer = class:^(org.kde.kfontview)$
windowrule = float, $kde-font-viewer
windowrule = center, $kde-font-viewer
windowrule = size 55% 60%, $kde-font-viewer

# Float rules for Dolphin dialogs
$dolphin-dialogs = title:^(.*Folder Already Exists — Dolphin.*)$|^(.*Copying — Dolphin.*)$|^(.*Moving .*)$|^(.*Copying .*)$
windowrule = float, $dolphin-dialogs
windowrule = center, $dolphin-dialogs
# windowrule = size 600 300, $dolphin-dialogs
windowrule = opacity 0.75 0.75 1, $dolphin-dialogs

# Float rules for Dolphin file properties dialog window
$dolphin-file-properties = class:^(org.kde.dolphin)$,title:^(Properties for .*)$
windowrule = float, $dolphin-file-properties
windowrule = center, $dolphin-file-properties
windowrule = size 470 600, $dolphin-file-properties
windowrule = opacity 0.75 0.75 1, $dolphin-file-properties

# Float rules for Kamule delete file dialog window
$kamule-modals = class:^(org.kde.kamule)$,title:^([Oo]pen.*)$
windowrule = float, $kamule-modals
windowrule = center, $kamule-modals
windowrule = size 470 600, $kamule-modals
windowrule = opacity 0.75 0.75 1, $kamule-modals

# Float rules for Bluetooth, Network Manager and polkit dialogs
windowrule = float, class:^(blueman-manager)$
windowrule = float, class:^(nm-applet)$
windowrule = float, class:^(nm-connection-editor)$
windowrule = float, class:^(org.kde.polkit-kde-authentication-agent-1)$

# Float rules for Qalculate
windowrule = float, class:^(qalculate-gtk)$
windowrule = center, class:^(qalculate-gtk)$
windowrule = size 40% 42%, class:^(qalculate-gtk)$

# Float rules for nwg monitors
windowrule = float, class:^(nwg-displays)$
windowrule = center, class:^(nwg-displays)$
windowrule = size 50% 52%, class:^(nwg-displays)$

# Set the initial window size to 95% width and height
$maximize-apps = class:^(mpv|org.gnome.eog)$
windowrule = float, $maximize-apps
windowrule = size 100% 100%, $maximize-apps
windowrule = center, $maximize-apps
windowrule = maximize, $maximize-apps
# Optionally, restore it back to maximized when it's focused again, (or after closing and reopening, this will keep it maximized)
windowrule = maximize, $maximize-apps

windowrule = maximize, class:^(vlc)$
windowrule = float, class:^(vlc)$,title:^(.*)$

# Float rules for PulseAudio Volume Control
windowrule = float, class:^(org.pulseaudio.pavucontrol)$
windowrule = center, class:^(org.pulseaudio.pavucontrol)$
windowrule = size 1000 720, class:^(org.pulseaudio.pavucontrol)$

# Float rules for some other applications
$apps = title:^(.*Warehouse.*)$|^(.*nwg-look.*)$|^(.*Ark.*)$|^(.*Qt5.*)$|^(.*Qt6.*)$|^(.*Flatseal.*)$|^(.*Kvantum Manager.*)$
windowrule = float, $apps
windowrule = center 1, $apps
windowrule = size 930 600, $apps

# Float rule for qBittorrent modal windows
windowrule = float, class:^(org.qbittorrent.qBittorrent)$,title:^(qBittorrent)$

# ▀█▀ ██▀ ▄▀▄ █▀▄ █ █▄ █ ▄▀ 
#  █  █▄▄ █▀█ █▀▄ █ █ ▀█ ▀▄█

windowrule = immediate, class:^(Doom)$
windowrule = immediate, class:^(gzdoom)$
windowrule = immediate, class:^(steam_app_782330)$


# // █░░ ▄▀█ █▄█ █▀▀ █▀█   █▀█ █░█ █░░ █▀▀ █▀
# // █▄▄ █▀█ ░█░ ██▄ █▀▄   █▀▄ █▄█ █▄▄ ██▄ ▄█

layerrule = ignorezero, class:^(zen|chromium|firefox-developer-edition)$

layerrule = blur, waybar
layerrule = ignorezero, waybar
layerrule = xray 1, waybar
layerrule = animation fadeLayers, waybar

layerrule = blur, rofi
layerrule = xray 1, rofi
layerrule = animation fadeLayers, rofi
layerrule = ignorezero, rofi

layerrule = blur, dunst
layerrule = ignorezero, dunst

layerrule = blur, swaync-notification-window
layerrule = ignorezero, swaync-notification-window
layerrule = blur, swaync-control-center
layerrule = ignorezero, swaync-control-center

# layerrule = blur, logout_dialog
# layerrule = xray 1, logout_dialog
# layerrule = ignorezero, logout_dialog
# layerrule = animation fadeLayers, logout_dialog